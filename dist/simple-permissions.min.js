/*! simple-permissions - v1.0.0 - 2014-07-17
* https://github.com/Serge-Z/simple-permissions
 Licensed http://unlicense.org/
* Description Trivial permissions implementation - takes an array and stores permissions from multiple targets for sources. 100% tested.
* Author Sergey Zarouski, http://webuniverse.club
*/

!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["exports","_"],b):"object"==typeof exports?b(exports,require("_")):b(a.permissionsExports={},a._)}(this,function(a,b){"use strict";function c(a,c,d){function e(c,d,e){var f=b.find(a,{target:c,source:e});f?f.properties=b.union(f.properties,d):a.push({target:c,source:e,properties:d})}"string"==typeof c&&(c=[c]),b.each(c,function(a){b.each(d,b.partial(e,a))})}function d(a,c,d){function e(c,d,e){b.remove(a,function(a){return a.target===c&&a.source===e?(a.properties=b.difference(a.properties,d),!a.properties.length):!1})}"string"==typeof c&&(c=[c]),b.each(c,function(a){b.each(d,b.partial(e,a))})}var e={grant:c,revoke:d};b.extend(a,e)});